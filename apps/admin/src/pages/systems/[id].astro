---
export const prerender = false
import Layout from '@layouts/LeftSidebar.astro'
import SystemForm from '@components/forms/SystemForm.svelte'
import { actions } from 'astro:actions'
const id = Number(Astro.params.id)
if (!id){
    return Astro.redirect("/404")
}
const { data: system } = await Astro.callAction(actions.systems.getSystemById, {id})
if(!system){
    return Astro.redirect("/404")
}
---

<Layout title={`Editing System: ${system?.name}`}>
    <SystemForm systemData={system} client:only="svelte"/>
</Layout>   