---
import Layout from '@layouts/LeftSidebar.astro'
import PageTitle from '@components/ui/PageTitle.svelte';
import LinkButton from '@components/ui/LinkButton.svelte';
import { actions } from 'astro:actions'
const { data: systems } = await Astro.callAction(actions.systems.getAllSystemsFull, {});

---

<Layout title="Systems">
    <PageTitle title="Systems" hvalue={1}>
        <LinkButton href="/systems/new">Create New System</LinkButton>
    </PageTitle>
    <div class="grid lg:grid-cols-3 md:grid-cols-2 gap-4">
        {systems?.map((system: any) => (
            <div class="card bg-base-100 w-96 shadow-sm">
                <div class="card-body items-center">
                    <a href={`systems/${system.system.id}`}><h2 class="card-title text-2xl">{system.system.name}</h2></a>
                    <h2 class="text-6xl center">{system.campaignDetails.length}</h2>
                </div>
            </div>
        ))}
    </div>
</Layout>