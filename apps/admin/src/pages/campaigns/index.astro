---
export const prerender = false
import { actions } from 'astro:actions';
import Layout from '@layouts/LeftSidebar.astro'
import PageTitle from '@components/ui/PageTitle.svelte';
import ContentForm from '@components/forms/ContentForm.svelte';
const campaignTags = await Astro.callAction(actions.content.getTags, { contentType: 'campaign' });
const search = Astro.url.searchParams.get('q') || undefined;
const page = Number(Astro.url.searchParams.get('page')) || 1;
const campaignResponse = await Astro.callAction(actions.content.search, {
    contentType: 'campaign',
    searchTerm: search,
    pageSize: 18,
    page,
});
const campaigns = campaignResponse.data;
---

<Layout title="Campaigns">
    <PageTitle title="Campaigns" hvalue={1}>
        <ContentForm contentType="campaign" client:only="svelte" />
    </PageTitle>
</Layout>