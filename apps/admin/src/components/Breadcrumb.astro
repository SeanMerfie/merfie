---
const pathname = Astro.url.pathname;
const segments = pathname.split('/').filter(Boolean);

interface BreadcrumbItem {
    label: string;
    href: string;
}

const breadcrumbs: BreadcrumbItem[] = [
    { label: 'Home', href: '/' }
];

let currentPath = '';
for (const segment of segments) {
    currentPath += `/${segment}`;
    const label = segment
        .split('-')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');
    breadcrumbs.push({ label, href: currentPath });
}
---

<div class="breadcrumbs">
    <ul>
        {breadcrumbs.map((crumb, index) => (
            <li>
                {index < breadcrumbs.length - 1 ? (
                    <a href={crumb.href}>{crumb.label}</a>
                ) : (
                    <span>{crumb.label}</span>
                )}
            </li>
        ))}
    </ul>
</div>
